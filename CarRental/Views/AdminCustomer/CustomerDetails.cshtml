@model CarRental.Models.Customer

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Customer Details";
}

<!-- Full-page background -->
<div class="bg-image"></div>

<div class="container py-4">
    <h2 class="text-center text-primary fw-bold mb-4">
        <i class="bi bi-person-lines-fill me-2"></i> Customer Details
    </h2>

    <!-- Customer Info Card -->
    <div class="card glass-card shadow-lg mb-4">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">@Model.FullName</h4>
        </div>
        <div class="card-body">
            <div class="row g-3">
                <div class="col-md-6"><strong>Email:</strong> @Model.UserEmail</div>
                <div class="col-md-6"><strong>Phone Number:</strong> @Model.PhoneNumber</div>
                <div class="col-md-6"><strong>Gender:</strong> @Model.Gender</div>
                <div class="col-md-6"><strong>Username:</strong> @Model.User?.UserName</div>
                <div class="col-md-12"><strong>Address:</strong> @Model.Address</div>
                <div class="col-md-12"><strong>License Number:</strong> @Model.LicenseNumber</div>
            </div>
        </div>
    </div>

    <!-- Bookings Table -->
    <h4 class="text-secondary mb-3"><i class="bi bi-journal-check me-2"></i> Bookings</h4>
    @if (Model.Bookings != null && Model.Bookings.Any())
    {
        <div class="table-responsive">
            <table class="table table-striped table-hover align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>Booking ID</th>
                        <th>Booking Date</th>
                        <th>Car</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var booking in Model.Bookings)
                    {
                        <tr>
                            <td>@booking.BookingId</td>
                            <td>@booking.PickupDate.ToString("yyyy-MM-dd")</td>
                            <td>@booking.Car?.CarName</td>
                            @* <td>@booking.Status</td> *@
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <p class="text-muted">No bookings available for this customer.</p>
    }

    <!-- Action Buttons -->
    <div class="d-flex gap-2 mt-4">
        <a asp-action="CustomerList" class="btn btn-primary btn-hover"><i class="bi bi-arrow-left-circle me-1"></i> Back to List</a>
        <a asp-action="EditCustomer" asp-route-id="@Model.CustomerId" class="btn btn-warning btn-hover"><i class="bi bi-pencil-square me-1"></i> Edit</a>
        <a asp-action="DeleteCustomer" asp-route-id="@Model.CustomerId" class="btn btn-danger btn-hover"><i class="bi bi-trash me-1"></i> Delete</a>
    </div>
</div>

<style>
    /* Full-page background image (same as dashboard) */
    .bg-image {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('/images/Extra/ContactPage.jpg') no-repeat center center/cover;
        z-index: -1;
        filter: brightness(0.6);
    }

    /* Glass card style */
    .glass-card {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(15px);
        border-radius: 1rem;
        border: 1px solid rgba(255,255,255,0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        color: #fff;
    }

        .glass-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 25px rgba(0,0,0,0.25);
        }

    /* Buttons hover */
    .btn-hover {
        transition: all 0.3s ease;
    }

        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

    /* Table styles */
    table {
        color: #fff;
    }

    .table-dark th {
        background-color: rgba(0,0,0,0.6) !important;
    }

    .table-striped > tbody > tr:nth-of-type(odd) {
        background-color: rgba(255,255,255,0.05);
    }
</style>
