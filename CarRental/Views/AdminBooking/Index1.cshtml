@model IEnumerable<CarRental.ViewModels.BookingViewModel>

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2 class="mb-4 fw-bold text-primary border-bottom pb-2">
    <i class="bi bi-calendar-check me-2"></i> Booking Management
</h2>

<div class="container-fluid mt-3">
    <div class="table-responsive shadow-sm rounded bg-white p-3">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-primary">
                <tr>
                    <th>#</th>
                    <th>Customer</th>
                    <th>Car</th>
                    <th>Pickup Date</th>
                    <th>Return Date</th>
                    <th>Status</th>
                    <th>Total ($)</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @* @if (Model != null && Model.Any())
                {
                    int count = 1;
                    foreach (var booking in Model)
                    {
                        <tr>
                            <td>@count</td>
                            <td>@booking.CustomerName</td>
                            <td>@booking.CarName</td>
                            <td>@booking.PickupDate:yyyy-MM-dd</td>
                            <td>@booking.ReturnDate:yyyy-MM-dd</td>
                            <td>
                                <span class="badge
                                             @(booking.Status == "Pending" ? "bg-warning text-dark" :
                                            booking.Status == "Approved" ? "bg-success" :
                                            booking.Status == "Cancelled" ? "bg-danger" : "bg-secondary")">
                                            @booking.Status
                                </span>
                            </td>
                            <td class="fw-bold text-success">@booking.TotalAmount:F2</td>
                            <td class="text-center">
                                <a asp-action="Details" asp-route-id="@booking.Id" class="btn btn-sm btn-info me-1" title="View">
                                    <i class="bi bi-eye"></i>
                                </a>
                                <a asp-action="Edit" asp-route-id="@booking.Id" class="btn btn-sm btn-primary me-1" title="Edit">
                                    <i class="bi bi-pencil"></i>
                                </a>
                                <a asp-action="Cancel" asp-route-id="@booking.Id" class="btn btn-sm btn-danger"
                                   onclick="return confirm('Are you sure you want to cancel this booking?');" title="Cancel">
                                    <i class="bi bi-x-circle"></i>
                                </a>
                            </td>
                        </tr>
                        count++;
                    }
                } *@
                else
                {
                    <tr>
                        <td colspan="8" class="text-center text-muted py-3">
                            No bookings found.
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
